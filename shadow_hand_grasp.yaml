graphics_device_id: 0
env:
  env_name: "shadow_hand_grasp"
  numEnvs: 100000
  envSpacing: 1.5
  episodeLength: 200 # 250
  enableDebugVis: false
  aggregateMode: 1

  random_prior: true
  random_time: true
  repose_z: true
  goal_cond: false

  object_code_dict: {
    'sem/PowerStrip-6cb9ba94a63ff60888bf39e10d433fc8':[0.08],
    'sem/Microscope-3a6cd06d50e0f37e59ceafb827a4418d':[0.06],
    'sem/PowerStrip-c3f1944d562738f7daaccab222ac90bc':[0.12],
    'sem/Teapot-3d2cafbf9a6a2da44212ff51b27f0221':[0.08],
    'sem/TapeMeasure-d7ae45c05243250fb85d7b26e23c80bf':[0.06],
    'sem/Teapot-3d2cafbf9a6a2da44212ff51b27f0221':[0.06],
    'sem/Watch-e743856943ce4fa49a9248bc70f7492':[0.06],
    'sem/Cat-f0b4f696e91f59af18b14db3b83de9ff':[0.12],
    'sem/MediaChest-9ac71997e9eee1c1af5ada3edc49839':[0.06],
    'sem/Teapot-c7a70db33a8c900dab5b523beb03efcd':[0.06],
    'sem/CanOpener-ef6762a35438931aec2282dd8bc87a':[0.15],
    'sem/TapeMeasure-8e032ae0d6bf11795b8aa067abf14878':[0.06],
    'sem/Bus-418ecddf4297b8051138452c33de4a3d':[0.08],
    'sem/Cow-720025ba8f1ca815bec6be80de02c183':[0.08],
    'sem/Bus-418ecddf4297b8051138452c33de4a3d':[0.06],
    'sem/PicnicTableSet-66add7facfc1942886b3f898d28dd325':[0.06],
    'sem/Toaster-3ffbb0ab0f8da32f86271197b958e3d5':[0.08],
    'sem/Bus-28d8eafb888cd457e8784f880dac0f61':[0.10],
    'sem/TapeMeasure-948850694831c2644fdfafc90a1f296':[0.08],
    'sem/Teapot-93c6553dc3f2ad11012cc02986a86c3':[0.06],
    'sem/TapeMeasure-68c411e8b84a6f16ca6895dabdbc0ada':[0.06],
    'sem/Teapot-139af10e719186bddaa266217a65f9d7':[0.06],
    'sem/Microscope-3a6cd06d50e0f37e59ceafb827a4418d':[0.10],
    'sem/Cat-f0b4f696e91f59af18b14db3b83de9ff':[0.12],
    'sem/CanOpener-ef6762a35438931aec2282dd8bc87a':[0.12],
    'sem/TapeMeasure-948850694831c2644fdfafc90a1f296':[0.06],
    'sem/Cat-2163e8058aaa96a771879a51f4bce289':[0.06],
    'sem/Bus-418ecddf4297b8051138452c33de4a3d':[0.15],
    'sem/PicnicTableSet-66add7facfc1942886b3f898d28dd325':[0.06],
    'sem/Thermostat-c2b73966ca4024ef38b28f94c165f833':[0.08],
    'sem/Watch-e743856943ce4fa49a9248bc70f7492':[0.08],
    'sem/Mug-10f6e09036350e92b3f21f1137c3c347':[0.06],
    'sem/Donkey-b09e0a52bd3b1b4eab2bd7322386ffd':[0.12],
    'sem/Hat-78ffdd0f1440161ca7591d4119c4254f':[0.08],
    'sem/Thermostat-c2b73966ca4024ef38b28f94c165f833':[0.06],
    'sem/Microscope-c111643047f34e8c84fc81a3117e11ad':[0.08],
    'sem/Controller-61c6c6a47e5b9d34496c7671bf276db5':[0.10],
    'sem/Hat-78ffdd0f1440161ca7591d4119c4254f':[0.06],
    'sem/Watch-3a5351666689a7b2b788559e93c74a0f':[0.10],
    'sem/Microscope-3a6cd06d50e0f37e59ceafb827a4418d':[0.12],
    'sem/Plate-6907973366e2d8ca7f181d2694cd239b':[0.06],
    'sem/Toothbrush-3fd2220368ddb07112c1524f812438c7':[0.08],
    'sem/Bus-418ecddf4297b8051138452c33de4a3d':[0.12],
    'sem/TapeMeasure-e8951611e2c25ac1314b44839465ec00':[0.10],
    'sem/Kettle-9c5b0553b7a7088759ac5a8e79274552':[0.06],
    'sem/Thermostat-c2b73966ca4024ef38b28f94c165f833':[0.06],
    'sem/Toothbrush-3fd2220368ddb07112c1524f812438c7':[0.10],
    'sem/Cookie-a8e3118bec4c495f737a00f007529fbf':[0.06],
    'sem/Cow-720025ba8f1ca815bec6be80de02c183':[0.06],
    'sem/CanOpener-ef6762a35438931aec2282dd8bc87a':[0.15],
    'sem/Toaster-3ffbb0ab0f8da32f86271197b958e3d5':[0.06],
    'sem/Bus-28d8eafb888cd457e8784f880dac0f61':[0.10],
    'sem/Teapot-93c6553dc3f2ad11012cc02986a86c3':[0.06],
    'sem/Toothbrush-3fd2220368ddb07112c1524f812438c7':[0.15],
    'sem/Microscope-c111643047f34e8c84fc81a3117e11ad':[0.06],
    'sem/Cat-f0b4f696e91f59af18b14db3b83de9ff':[0.10],
    'sem/Toaster-2fb52b43697b9341b785a4ac4a0dbd73':[0.06],
    'sem/Toothbrush-3fd2220368ddb07112c1524f812438c7':[0.12],
    'sem/PowerStrip-c3f1944d562738f7daaccab222ac90bc':[0.12],
    'sem/Hat-d0919880bdf7eec8fe5dfc44db6ed8eb':[0.10],
    'sem/Watch-f57628258e99f63c5cd95682b31d27c1':[0.10],
    'sem/Hat-d0919880bdf7eec8fe5dfc44db6ed8eb':[0.08],
    'sem/Controller-61c6c6a47e5b9d34496c7671bf276db5':[0.08],
    'sem/PicnicTableSet-27a6dc6d930db4bf5da6aef87fc49e72':[0.06],
    'sem/Microscope-c111643047f34e8c84fc81a3117e11ad':[0.10],
    'sem/TapeMeasure-8f0a948bdcf8a65d43a73aba20837492':[0.06],
    'sem/Donkey-b09e0a52bd3b1b4eab2bd7322386ffd':[0.12],
    'sem/Hat-78ffdd0f1440161ca7591d4119c4254f':[0.08],
    'sem/Microscope-3a6cd06d50e0f37e59ceafb827a4418d':[0.08],
    'sem/Teapot-ef16485d8a6750e84212ff51b27f0221':[0.08],
    'sem/Tape-81fd4ab44df90d8ad84b8ba651dfb8ac':[0.06],
    'sem/Controller-61c6c6a47e5b9d34496c7671bf276db5':[0.10],
    'sem/Watch-f57628258e99f63c5cd95682b31d27c1':[0.12],
    'sem/Watch-3a5351666689a7b2b788559e93c74a0f':[0.08],
    'sem/TapeMeasure-948850694831c2644fdfafc90a1f296':[0.08],
    'sem/MediaChest-9ac71997e9eee1c1af5ada3edc49839':[0.06],
    'sem/Microscope-3a6cd06d50e0f37e59ceafb827a4418d':[0.10],
    'sem/Kettle-9c5b0553b7a7088759ac5a8e79274552':[0.06],
    'sem/Watch-3a5351666689a7b2b788559e93c74a0f':[0.06],
    'sem/Teapot-5a471458da447600fea9cf313bd7758b':[0.08],
    'sem/Cow-720025ba8f1ca815bec6be80de02c183':[0.08],
    'sem/Teapot-5a471458da447600fea9cf313bd7758b':[0.06],
    'sem/Plate-6907973366e2d8ca7f181d2694cd239b':[0.06],
    'sem/Bus-e299444f1a4c7457fa9ee9b3a7eba069':[0.06],
    'sem/Bus-28d8eafb888cd457e8784f880dac0f61':[0.08],
    'sem/Cow-67d466a374e88c3de80df3c23687288a':[0.08],
    'sem/Cookie-a8e3118bec4c495f737a00f007529fbf':[0.06],
    'sem/Cow-720025ba8f1ca815bec6be80de02c183':[0.10],
    'sem/Tape-81fd4ab44df90d8ad84b8ba651dfb8ac':[0.06],
    'sem/Teapot-ef16485d8a6750e84212ff51b27f0221':[0.06],
    'sem/Cow-67d466a374e88c3de80df3c23687288a':[0.06],
    'sem/Bus-418ecddf4297b8051138452c33de4a3d':[0.10],
    'sem/Toaster-3ffbb0ab0f8da32f86271197b958e3d5':[0.06],
    'sem/Mug-10f6e09036350e92b3f21f1137c3c347':[0.06],
    'sem/Kettle-9c5b0553b7a7088759ac5a8e79274552':[0.08],
    'sem/Teapot-139af10e719186bddaa266217a65f9d7':[0.08],
    'sem/Watch-f57628258e99f63c5cd95682b31d27c1':[0.10],
    'sem/Teapot-93c6553dc3f2ad11012cc02986a86c3':[0.08],
    'sem/Toothbrush-3fd2220368ddb07112c1524f812438c7':[0.15],
    'sem/Microscope-c111643047f34e8c84fc81a3117e11ad':[0.12],
  }

  stiffnessScale: 1.0
  forceLimitScale: 1.0
  useRelativeControl: false
  dofSpeedScale: 20.0
  actionsMovingAverage: 1.0
  controlFrequencyInv: 1 # 60 Hz

  startPositionNoise: 0.0
  startRotationNoise: 0.0

  resetPositionNoise: 0.0
  resetRotationNoise: 0.0
  resetDofPosRandomInterval: 0.0
  resetDofVelRandomInterval: 0.0

  distRewardScale: 20
  transition_scale: 0.5
  orientation_scale: 0.1
  rotRewardScale: 1.0
  rotEps: 0.1
  actionPenaltyScale: -0.0002
  reachGoalBonus: 250
  fallDistance: 0.4
  fallPenalty: 0.0

  objectType: "pot"
  observationType: "full_state"
  handAgentIndex: "[[0, 1, 2, 3, 4, 5]]"
  asymmetric_observations: false
  successTolerance: 0.1
  printNumSuccesses: false
  maxConsecutiveSuccesses: 0

  asset:
    assetRoot: "../assets"
    assetFileName: "mjcf/open_ai_assets/hand/shadow_hand.xml"
    assetFileNameBlock: "urdf/objects/cube_multicolor.urdf"
    assetFileNameBall: "urdf/objects/ball.urdf"
    assetFileNameEgg: "mjcf/open_ai_assets/hand/egg.xml"
    assetFileNamePen: "mjcf/open_ai_assets/hand/pen.xml"

task:
  randomize: false
  randomization_params:
    frequency: 600   # Define how many simulation steps between generating new randomizations
    observations:
      range: [0, .002]   # range for the white noise
      range_correlated: [0, .001]   # range for correlated noise, refreshed with freq `frequency`
      operation: "additive"
      distribution: "gaussian"
      schedule: "linear"   # "constant" is to turn on noise after `schedule_steps` num steps
      schedule_steps: 40000
    actions:
      range: [0., .05]
      range_correlated: [0, .015]   # range for correlated noise, refreshed with freq `frequency`
      operation: "additive"
      distribution: "gaussian"
      schedule: "linear"  # "linear" will linearly interpolate between no rand and max rand
      schedule_steps: 40000
    sim_params:
      gravity:
        range: [0, 0.4]
        operation: "additive"
        distribution: "gaussian"
        schedule: "linear"  # "linear" will linearly interpolate between no rand and max rand
        schedule_steps: 40000
    actor_params:
      hand:
        color: true
        tendon_properties:
          damping:
            range: [0.3, 3.0]
            operation: "scaling"
            distribution: "loguniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
          stiffness:
            range: [0.75, 1.5]
            operation: "scaling"
            distribution: "loguniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
        dof_properties:
          damping:
            range: [0.3, 3.0]
            operation: "scaling"
            distribution: "loguniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
          stiffness:
            range: [0.75, 1.5]
            operation: "scaling"
            distribution: "loguniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
          lower:
            range: [0, 0.01]
            operation: "additive"
            distribution: "gaussian"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
          upper:
            range: [0, 0.01]
            operation: "additive"
            distribution: "gaussian"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
        rigid_body_properties:
          mass:
            range: [0.5, 1.5]
            operation: "scaling"
            distribution: "uniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
        rigid_shape_properties:
          friction:
            num_buckets: 250
            range: [0.7, 1.3]
            operation: "scaling"
            distribution: "uniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
      object:
        scale:
          range: [0.95, 1.05]
          operation: "scaling"
          distribution: "uniform"
          schedule: "linear"  # "linear" will scale the current random sample by ``min(current num steps, schedule_steps) / schedule_steps`
          schedule_steps: 30000
        rigid_body_properties:
          mass:
            range: [0.5, 1.5]
            operation: "scaling"
            distribution: "uniform"
            schedule: "linear"  # "linear" will scale the current random sample by ``min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000
        rigid_shape_properties:
          friction:
            num_buckets: 250
            range: [0.7, 1.3]
            operation: "scaling"
            distribution: "uniform"
            schedule: "linear"  # "linear" will scale the current random sample by `min(current num steps, schedule_steps) / schedule_steps`
            schedule_steps: 30000

sim:
  substeps: 2
  physx:
    num_threads: 4
    solver_type: 1  # 0: pgs, 1: tgs
    num_position_iterations: 8 # 8 bottle
    num_velocity_iterations: 0
    contact_offset: 0.002
    rest_offset: 0.0
    bounce_threshold_velocity: 0.2
    max_depenetration_velocity: 1000.0
    default_buffer_size_multiplier: 5.0
  flex:
    num_outer_iterations: 5
    num_inner_iterations: 20
    warm_start: 0.8
    relaxation: 0.75
